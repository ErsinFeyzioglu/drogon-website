{"parents": [{"link": "../index-zh/", "title": "\u4e2d\u6587\u6587\u6863"}], "prev": {"link": "../Configuration-File-zh/", "title": "\u914d\u7f6e\u6587\u4ef6"}, "next": {"link": "../AOP-Aspect-Oriented-Programming-zh/", "title": "AOP\u9762\u5411\u5207\u9762\u7f16\u7a0b"}, "title": "drogon_ctl\u547d\u4ee4", "meta": {}, "body": "<div class=\"section\" id=\"drogon-ctl\">\n<h1>drogon_ctl\u547d\u4ee4<a class=\"headerlink\" href=\"#drogon-ctl\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>Drogon\u6846\u67b6\u7f16\u8bd1\u5b89\u88c5\u540e\uff0c\u4e00\u4e2a\u547d\u4ee4\u884c\u7a0b\u5e8f*drogon_ctl*\u4e5f\u540c\u65f6\u88ab\u5b89\u88c5\u4e8e\u7cfb\u7edf\uff0c\u4e3a\u4e86\u65b9\u4fbf\uff0c\u8fd8\u5b89\u88c5\u4e86\u4e00\u4e2a\u5b8c\u5168\u4e00\u6837\u7684\u526f\u672cdg_ctl\u3002\u7528\u6237\u53ef\u4ee5\u6309\u559c\u597d\u81ea\u884c\u9009\u7528\u3002</p>\n<p>\u8be5\u7a0b\u5e8f\u76ee\u524d\u7684\u4e3b\u8981\u529f\u80fd\u662f\u4e3a\u4e86\u65b9\u4fbf\u7528\u6237\u521b\u5efa\u5404\u79cddrogon\u5de5\u7a0b\u6587\u4ef6\uff0c\u4f7f\u7528*dg_ctl help*\u547d\u4ee4\u53ef\u4ee5\u770b\u5230\u5b83\u652f\u6301\u7684\u529f\u80fd\uff0c\u5982\u4e0b\uff1a</p>\n<div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>dg_ctl <span class=\"nb\">help</span>\nusage: drogon_ctl &lt;command&gt; <span class=\"o\">[</span>&lt;args&gt;<span class=\"o\">]</span>\ncommands list:\ncreate                  create some <span class=\"nb\">source</span> files<span class=\"o\">(</span>Use <span class=\"s1\">&#39;drogon_ctl help create&#39;</span> <span class=\"k\">for</span> more information<span class=\"o\">)</span>\n<span class=\"nb\">help</span>                    display this message\nversion                 display version of this tool\npress                   Do stress testing<span class=\"o\">(</span>Use <span class=\"s1\">&#39;drogon_ctl help press&#39;</span> <span class=\"k\">for</span> more information<span class=\"o\">)</span>\n</pre></div>\n</div>\n<div class=\"section\" id=\"version\">\n<h2>version\u5b50\u547d\u4ee4<a class=\"headerlink\" href=\"#version\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p><a href=\"#id1\"><span class=\"problematic\" id=\"id2\">*</span></a>version*\u5b50\u547d\u4ee4\u7528\u4e8e\u6253\u5370\u76ee\u524d\u5b89\u88c5\u4e8e\u7cfb\u7edf\u7684drogon\u7248\u672c\uff0c\u5982\u4e0b\uff1a</p>\n<blockquote>\n<div><div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>     _\n  __<span class=\"p\">|</span> <span class=\"p\">|</span>_ __ ___   __ _  ___  _ __\n / _<span class=\"sb\">`</span> <span class=\"p\">|</span> <span class=\"s1\">&#39;__/ _ \\ / _` |/ _ \\| &#39;</span>_ <span class=\"se\">\\</span>\n<span class=\"p\">|</span> <span class=\"o\">(</span>_<span class=\"p\">|</span> <span class=\"p\">|</span> <span class=\"p\">|</span> <span class=\"p\">|</span> <span class=\"o\">(</span>_<span class=\"o\">)</span> <span class=\"p\">|</span> <span class=\"o\">(</span>_<span class=\"p\">|</span> <span class=\"p\">|</span> <span class=\"o\">(</span>_<span class=\"o\">)</span> <span class=\"p\">|</span> <span class=\"p\">|</span> <span class=\"p\">|</span> <span class=\"p\">|</span>\n <span class=\"se\">\\_</span>_,_<span class=\"p\">|</span>_<span class=\"p\">|</span>  <span class=\"se\">\\_</span>__/ <span class=\"se\">\\_</span>_, <span class=\"p\">|</span><span class=\"se\">\\_</span>__/<span class=\"p\">|</span>_<span class=\"p\">|</span> <span class=\"p\">|</span>_<span class=\"p\">|</span>\n                  <span class=\"p\">|</span>___/\ndrogon ctl tools\nversion:0.9.30.771\ngit commit:d4710d3da7ca9e73b881cbae3149c3a570da8de4\ncompile config:-O3 -DNDEBUG -Wall -std<span class=\"o\">=</span>c++17 -I/root/drogon/trantor -I/root/drogon/lib/inc -I/root/drogon/orm_lib/inc -I/usr/local/include -I/usr/include/uuid -I/usr/include -I/usr/include/mysql\n</pre></div>\n</div>\n</div></blockquote>\n</div>\n<div class=\"section\" id=\"create\">\n<h2>create\u5b50\u547d\u4ee4<a class=\"headerlink\" href=\"#create\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p><a href=\"#id3\"><span class=\"problematic\" id=\"id4\">*</span></a>create*\u5b50\u547d\u4ee4\u7528\u4e8e\u521b\u5efa\u5404\u79cd\u5bf9\u8c61\uff0c\u76ee\u524d\u662fdrogon_ctl\u7684\u4e3b\u8981\u529f\u80fd\uff0c\u4f7f\u7528*dg_ctl help create*\u547d\u4ee4\u53ef\u4ee5\u6253\u5370\u8be5\u547d\u4ee4\u7684\u8be6\u7ec6\u5e2e\u52a9\uff0c\u5982\u4e0b\uff1a</p>\n<div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>dg_ctl <span class=\"nb\">help</span> create\n\nUse create <span class=\"nb\">command</span> to create some <span class=\"nb\">source</span> files of drogon webapp\n\nUsage:drogon_ctl create &lt;view<span class=\"p\">|</span>controller<span class=\"p\">|</span>filter<span class=\"p\">|</span>project<span class=\"p\">|</span>model&gt; <span class=\"o\">[</span>-options<span class=\"o\">]</span> &lt;object name&gt;\n\ndrogon_ctl create view &lt;csp file name&gt; //create HttpView <span class=\"nb\">source</span> files from csp file\n\ndrogon_ctl create controller <span class=\"o\">[</span>-s<span class=\"o\">]</span> &lt;<span class=\"o\">[</span>namespace::<span class=\"o\">]</span>class_name&gt; //create HttpSimpleController <span class=\"nb\">source</span> files\n\ndrogon_ctl create controller -h &lt;<span class=\"o\">[</span>namespace::<span class=\"o\">]</span>class_name&gt; //create HttpController <span class=\"nb\">source</span> files\n\ndrogon_ctl create controller -w &lt;<span class=\"o\">[</span>namespace::<span class=\"o\">]</span>class_name&gt; //create WebSocketController <span class=\"nb\">source</span> files\n\ndrogon_ctl create filter &lt;<span class=\"o\">[</span>namespace::<span class=\"o\">]</span>class_name&gt; //create a filter named class_name\n\ndrogon_ctl create project &lt;project_name&gt; //create a project named project_name\n\ndrogon_ctl create model &lt;model_path&gt; //create model classes in model_path\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"id5\">\n<h2>\u89c6\u56fe\u521b\u5efa<a class=\"headerlink\" href=\"#id5\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p><a href=\"#id6\"><span class=\"problematic\" id=\"id7\">*</span></a>dg_ctl create controller*\u547d\u4ee4\u7528\u4e8e\u5e2e\u52a9\u7528\u6237\u521b\u5efa\u63a7\u5236\u5668\u7684\u6e90\u6587\u4ef6\uff0cdrogon\u76ee\u524d\u652f\u6301\u7684\u4e09\u79cd\u63a7\u5236\u5668\u90fd\u53ef\u4ee5\u7531\u8be5\u547d\u4ee4\u521b\u5efa\uff0c\u53ea\u662f\u53c2\u6570\u7a0d\u6709\u5dee\u522b\u3002</p>\n<div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>dg_ctl create view UsersList.csp\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"id8\">\n<h2>\u63a7\u5236\u5668\u521b\u5efa<a class=\"headerlink\" href=\"#id8\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p><a href=\"#id9\"><span class=\"problematic\" id=\"id10\">*</span></a>dg_ctl create controller*\u547d\u4ee4\u7528\u4e8e\u5e2e\u52a9\u7528\u6237\u521b\u5efa\u63a7\u5236\u5668\u7684\u6e90\u6587\u4ef6\uff0cdrogon\u76ee\u524d\u652f\u6301\u7684\u4e09\u79cd\u63a7\u5236\u5668\u90fd\u53ef\u4ee5\u7531\u8be5\u547d\u4ee4\u521b\u5efa\uff0c\u53ea\u662f\u53c2\u6570\u7a0d\u6709\u5dee\u522b\u3002</p>\n<blockquote>\n<div><ul>\n<li><p class=\"first\">\u521b\u5efaHttpSimpleController\u7684\u547d\u4ee4\u5982\u4e0b\uff1a</p>\n<blockquote>\n<div><div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>dg_ctl create controller SimpleControllerTest\ndg_ctl create controller webapp::v1::SimpleControllerTest\n</pre></div>\n</div>\n</div></blockquote>\n</li>\n</ul>\n</div></blockquote>\n<p>\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u662f\u63a7\u5236\u5668\u7684\u7c7b\u540d\uff0c\u53ef\u4ee5\u5728\u524d\u9762\u9644\u52a0\u547d\u540d\u7a7a\u95f4\u3002</p>\n<blockquote>\n<div><ul>\n<li><p class=\"first\">\u521b\u5efaHttpController\u7684\u547d\u4ee4\u5982\u4e0b\uff1a</p>\n<blockquote>\n<div><div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>dg_ctl create controller -h ControllerTest\ndg_ctl create controller -h api::v1::ControllerTest\n</pre></div>\n</div>\n</div></blockquote>\n</li>\n<li><p class=\"first\">\u521b\u5efaWebSocketController\u7684\u547d\u4ee4\u5982\u4e0b\uff1a</p>\n<blockquote>\n<div><div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>dg_ctl create controller -w WsControllerTest\ndg_ctl create controller -w api::v1::WsControllerTest\n</pre></div>\n</div>\n</div></blockquote>\n</li>\n</ul>\n</div></blockquote>\n<p>\u53c2\u8003wiki\u7684\u63a7\u5236\u5668\u5404\u4e2a\u7ae0\u8282\u3002</p>\n</div>\n<div class=\"section\" id=\"id11\">\n<h2>\u8fc7\u6ee4\u5668\u521b\u5efa<a class=\"headerlink\" href=\"#id11\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p><a href=\"#id12\"><span class=\"problematic\" id=\"id13\">*</span></a>dg_ctl create filter*\u547d\u4ee4\u7528\u4e8e\u5e2e\u52a9\u7528\u6237\u521b\u5efa\u8fc7\u6ee4\u5668\u7684\u6e90\u6587\u4ef6\uff0c\u53c2\u89c1\u8fc7\u6ee4\u5668\u4e00\u8282\u3002</p>\n<div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>dg_ctl create filter LoginFilter\ndg_ctl create filter webapp::v1::LoginFilter\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"id14\">\n<h2>\u521b\u5efa\u5de5\u7a0b<a class=\"headerlink\" href=\"#id14\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>\u7528\u6237\u521b\u5efa\u4e00\u4e2a\u65b0\u7684Drogon\u5e94\u7528\u5de5\u7a0b\u7684\u65b9\u6cd5\u662f\u901a\u8fc7drogon_ctl\u547d\u4ee4\u5b9e\u73b0\uff0c\u5982\u4e0b\uff1a</p>\n<div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>dg_ctl create project ProjectName\n</pre></div>\n</div>\n<p>\u8be5\u547d\u4ee4\u6267\u884c\u5b8c\u540e\uff0c\u5728\u5f53\u524d\u76ee\u5f55\u4f1a\u521b\u5efa\u5b8c\u6574\u7684\u5de5\u7a0b\u76ee\u5f55\uff0c\u76ee\u5f55\u540d\u662fProjectName,\u7528\u6237\u53ef\u4ee5\u76f4\u63a5\u8fdbbuild\u76ee\u5f55\u7f16\u8bd1\u8fd9\u4e2a\u5de5\u7a0b\uff0c\u5f53\u7136\u4ed6\u6ca1\u6709\u4efb\u4f55\u4e1a\u52a1\u903b\u8f91\u3002</p>\n<p>\u5de5\u7a0b\u7684\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff1a</p>\n<div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>\u251c\u2500\u2500 build                         \u6784\u5efa\u6587\u4ef6\u5939\n\u251c\u2500\u2500 CMakeLists.txt                \u5de5\u7a0b\u7684cmake\u914d\u7f6e\u6587\u4ef6\n\u251c\u2500\u2500 cmake_modules                 \u7b2c\u4e09\u65b9\u5e93\u67e5\u627e\u7684cmake\u811a\u672c\n\u2502   \u251c\u2500\u2500 FindJsoncpp.cmake\n\u2502   \u251c\u2500\u2500 FindMySQL.cmake\n\u2502   \u251c\u2500\u2500 FindSQLite3.cmake\n\u2502   \u2514\u2500\u2500 FindUUID.cmake\n\u251c\u2500\u2500 config.json                   drogon\u5e94\u7528\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u8bf7\u53c2\u8003\u914d\u7f6e\u6587\u4ef6\u4ecb\u7ecd\u7ae0\u8282\n\u251c\u2500\u2500 controllers                   \u5b58\u653e\u63a7\u5236\u5668\u6e90\u6587\u4ef6\u7684\u76ee\u5f55\n\u251c\u2500\u2500 filters                       \u5b58\u653e\u8fc7\u6ee4\u5668\u6587\u4ef6\u7684\u76ee\u5f55\n\u251c\u2500\u2500 main.cc                       \u4e3b\u7a0b\u5e8f\n\u251c\u2500\u2500 models                        \u6570\u636e\u5e93\u6a21\u578b\u6587\u4ef6\u7684\u76ee\u5f55\uff0c\u6a21\u578b\u6e90\u6587\u4ef6\u521b\u5efa\u89c111.2.5\n\u2502   \u2514\u2500\u2500 model.json\n\u2514\u2500\u2500 views                         \u5b58\u653e\u89c6\u56fecsp\u6587\u4ef6\u7684\u76ee\u5f55\uff0c\u6e90\u6587\u4ef6\u65e0\u9700\u7528\u6237\u624b\u52a8\u521b\u5efa\uff0c\u5de5\u7a0b\u7f16\u8bd1\u65f6\u4f1a\u81ea\u52a8\u9884\u5904\u7406csp\u6587\u4ef6\u5f97\u5230\u89c6\u56fe\u7684\u6e90\u6587\u4ef6\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"id15\">\n<h2>\u521b\u5efa\u6a21\u578b<a class=\"headerlink\" href=\"#id15\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>\u4f7f\u7528*dg_ctl create model*\u547d\u4ee4\u521b\u5efa\u6570\u636e\u5e93\u6a21\u578b\u6e90\u6587\u4ef6\uff0c\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u662f\u6a21\u578b\u5b58\u653e\u7684\u76ee\u5f55\uff0c\u8be5\u76ee\u5f55\u91cc\u5fc5\u987b\u5305\u542b\u4e00\u4e2a\u540d\u4e3amodel.json\u7684\u6a21\u578b\u914d\u7f6e\u6587\u4ef6\uff0c\u7528\u4e8e\u544a\u8bc9dg_ctl\u5982\u4f55\u8fde\u63a5\u6570\u636e\u5e93\u4ee5\u53ca\u6620\u5c04\u54ea\u4e9b\u8868\u3002</p>\n<p>\u6bd4\u5982\uff0c\u5982\u679c\u8981\u5728\u4e0a\u9762\u63d0\u5230\u7684\u5de5\u7a0b\u76ee\u5f55\u91cc\u521b\u5efa\u6a21\u578b\uff0c\u8bf7\u5728\u5de5\u7a0b\u76ee\u5f55\u4e0b\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a</p>\n<div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>dg_ctl create model models\n</pre></div>\n</div>\n<p>\u8be5\u547d\u4ee4\u4f1a\u63d0\u793a\u7528\u6237\u76ee\u5f55\u4e0b\u5df2\u6709\u7684\u6587\u4ef6\u5c06\u88ab\u76f4\u63a5\u8986\u76d6\uff0c\u7528\u6237\u8f93\u5165y\u786e\u8ba4\u540e\u5c31\u4f1a\u751f\u6210\u6240\u6709\u6a21\u578b\u6587\u4ef6\u3002\u5176\u4ed6\u6587\u4ef6\u8981\u5f15\u7528\u6a21\u578b\u7c7b\u9700\u8981include\u6a21\u578b\u7684\u5934\u6587\u4ef6\uff0c\u6bd4\u5982\uff1a</p>\n<div class=\"highlight-cpp notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"cp\">#include</span> <span class=\"cpf\">&quot;models/User.h&quot;</span><span class=\"cp\"></span>\n</pre></div>\n</div>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">\u6ce8\u610f\u8981\u5305\u542bmodels\u76ee\u5f55\u540d\uff0c\u8fd9\u662f\u4e3a\u4e86\u533a\u5206\u540c\u4e00\u4e2a\u5de5\u7a0b\u4e2d\u591a\u4e2a\u6570\u636e\u6e90\u7684\u60c5\u51b5\u3002\u53c2\u89c1ORM\u3002</p>\n</div>\n</div>\n<div class=\"section\" id=\"id16\">\n<h2>\u538b\u529b\u6d4b\u8bd5<a class=\"headerlink\" href=\"#id16\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>\u7528\u6237\u53ef\u4ee5\u4f7f\u7528dg_ctl press\u547d\u4ee4\u8fdb\u884c\u538b\u529b\u6d4b\u8bd5\uff0c\u8be5\u547d\u4ee4\u6709\u51e0\u4e2a\u9009\u9879</p>\n<blockquote>\n<div><ul class=\"simple\">\n<li><em>-n num</em> \u8bbe\u7f6e\u8bf7\u6c42\u7684\u603b\u6570(\u9ed8\u8ba4\u662f1)</li>\n<li><em>-t num</em> \u8bbe\u7f6e\u7ebf\u7a0b\u603b\u6570(\u9ed8\u8ba4\u662f1), \u8bbe\u7f6e\u6210CPU\u6570\u76ee\u53ef\u4ee5\u8fbe\u5230\u6700\u5927\u6027\u80fd</li>\n<li><em>-c num</em>  \u8bbe\u7f6e\u5e76\u53d1\u8fde\u63a5\u6570(\u9ed8\u8ba4\u662f1)</li>\n<li><em>-q</em> \u8868\u793a\u6ca1\u6709\u4e2d\u95f4\u8fc7\u7a0b\u7684\u4fe1\u606f\u8f93\u51fa(\u9ed8\u8ba4\u8f93\u51fa\u4fe1\u606f)</li>\n</ul>\n</div></blockquote>\n<p>\u4f8b\u5b50:</p>\n<div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>dg_ctl press -n1000000 -t4 -c1000 -q http://localhost:8080/\ndg_ctl press -n <span class=\"m\">1000000</span> -t <span class=\"m\">4</span> -c <span class=\"m\">1000</span> https://www.domain.com/path/to/be/tested\n</pre></div>\n</div>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["AOP-Aspect-Oriented-Programming-zh", "AOP\u9762\u5411\u5207\u9762\u7f16\u7a0b", "N", "next"], ["Configuration-File-zh", "\u914d\u7f6e\u6587\u4ef6", "P", "previous"]], "sourcename": "Drogon_ctl-Command-zh.rstd.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">drogon_ctl\u547d\u4ee4</a><ul>\n<li><a class=\"reference internal\" href=\"#version\">version\u5b50\u547d\u4ee4</a></li>\n<li><a class=\"reference internal\" href=\"#create\">create\u5b50\u547d\u4ee4</a></li>\n<li><a class=\"reference internal\" href=\"#id5\">\u89c6\u56fe\u521b\u5efa</a></li>\n<li><a class=\"reference internal\" href=\"#id8\">\u63a7\u5236\u5668\u521b\u5efa</a></li>\n<li><a class=\"reference internal\" href=\"#id11\">\u8fc7\u6ee4\u5668\u521b\u5efa</a></li>\n<li><a class=\"reference internal\" href=\"#id14\">\u521b\u5efa\u5de5\u7a0b</a></li>\n<li><a class=\"reference internal\" href=\"#id15\">\u521b\u5efa\u6a21\u578b</a></li>\n<li><a class=\"reference internal\" href=\"#id16\">\u538b\u529b\u6d4b\u8bd5</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rstd", "current_page_name": "Drogon_ctl-Command-zh", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12"}