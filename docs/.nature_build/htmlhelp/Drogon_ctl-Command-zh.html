
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=cp1252" />
    <title>drogon_ctl&#21629;&#20196;</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="next" title="AOP&#38754;&#21521;&#20999;&#38754;&#32534;&#31243;" href="AOP-Aspect-Oriented-Programming-zh.html" />
    <link rel="prev" title="&#37197;&#32622;&#25991;&#20214;" href="Configuration-File-zh.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="AOP-Aspect-Oriented-Programming-zh.html" title="AOP&#38754;&#21521;&#20999;&#38754;&#32534;&#31243;"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Configuration-File-zh.html" title="&#37197;&#32622;&#25991;&#20214;"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">drogon v1.0.0-beta21 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index-zh.html" accesskey="U">&#20013;&#25991;&#25991;&#26723;</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="drogon-ctl">
<h1>drogon_ctl&#21629;&#20196;</h1>
<p>Drogon&#26694;&#26550;&#32534;&#35793;&#23433;&#35013;&#21518;&#65292;&#19968;&#20010;&#21629;&#20196;&#34892;&#31243;&#24207;*drogon_ctl*&#20063;&#21516;&#26102;&#34987;&#23433;&#35013;&#20110;&#31995;&#32479;&#65292;&#20026;&#20102;&#26041;&#20415;&#65292;&#36824;&#23433;&#35013;&#20102;&#19968;&#20010;&#23436;&#20840;&#19968;&#26679;&#30340;&#21103;&#26412;dg_ctl&#12290;&#29992;&#25143;&#21487;&#20197;&#25353;&#21916;&#22909;&#33258;&#34892;&#36873;&#29992;&#12290;</p>
<p>&#35813;&#31243;&#24207;&#30446;&#21069;&#30340;&#20027;&#35201;&#21151;&#33021;&#26159;&#20026;&#20102;&#26041;&#20415;&#29992;&#25143;&#21019;&#24314;&#21508;&#31181;drogon&#24037;&#31243;&#25991;&#20214;&#65292;&#20351;&#29992;*dg_ctl help*&#21629;&#20196;&#21487;&#20197;&#30475;&#21040;&#23427;&#25903;&#25345;&#30340;&#21151;&#33021;&#65292;&#22914;&#19979;&#65306;</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dg_ctl <span class="nb">help</span>
usage: drogon_ctl &lt;command&gt; <span class="o">[</span>&lt;args&gt;<span class="o">]</span>
commands list:
create                  create some <span class="nb">source</span> files<span class="o">(</span>Use <span class="s1">&#39;drogon_ctl help create&#39;</span> <span class="k">for</span> more information<span class="o">)</span>
<span class="nb">help</span>                    display this message
version                 display version of this tool
press                   Do stress testing<span class="o">(</span>Use <span class="s1">&#39;drogon_ctl help press&#39;</span> <span class="k">for</span> more information<span class="o">)</span>
</pre></div>
</div>
<div class="section" id="version">
<h2>version&#23376;&#21629;&#20196;</h2>
<p><a href="#id1"><span class="problematic" id="id2">*</span></a>version*&#23376;&#21629;&#20196;&#29992;&#20110;&#25171;&#21360;&#30446;&#21069;&#23433;&#35013;&#20110;&#31995;&#32479;&#30340;drogon&#29256;&#26412;&#65292;&#22914;&#19979;&#65306;</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>     _
  __<span class="p">|</span> <span class="p">|</span>_ __ ___   __ _  ___  _ __
 / _<span class="sb">`</span> <span class="p">|</span> <span class="s1">&#39;__/ _ \ / _` |/ _ \| &#39;</span>_ <span class="se">\</span>
<span class="p">|</span> <span class="o">(</span>_<span class="p">|</span> <span class="p">|</span> <span class="p">|</span> <span class="p">|</span> <span class="o">(</span>_<span class="o">)</span> <span class="p">|</span> <span class="o">(</span>_<span class="p">|</span> <span class="p">|</span> <span class="o">(</span>_<span class="o">)</span> <span class="p">|</span> <span class="p">|</span> <span class="p">|</span> <span class="p">|</span>
 <span class="se">\_</span>_,_<span class="p">|</span>_<span class="p">|</span>  <span class="se">\_</span>__/ <span class="se">\_</span>_, <span class="p">|</span><span class="se">\_</span>__/<span class="p">|</span>_<span class="p">|</span> <span class="p">|</span>_<span class="p">|</span>
                  <span class="p">|</span>___/
drogon ctl tools
version:0.9.30.771
git commit:d4710d3da7ca9e73b881cbae3149c3a570da8de4
compile config:-O3 -DNDEBUG -Wall -std<span class="o">=</span>c++17 -I/root/drogon/trantor -I/root/drogon/lib/inc -I/root/drogon/orm_lib/inc -I/usr/local/include -I/usr/include/uuid -I/usr/include -I/usr/include/mysql
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="create">
<h2>create&#23376;&#21629;&#20196;</h2>
<p><a href="#id3"><span class="problematic" id="id4">*</span></a>create*&#23376;&#21629;&#20196;&#29992;&#20110;&#21019;&#24314;&#21508;&#31181;&#23545;&#35937;&#65292;&#30446;&#21069;&#26159;drogon_ctl&#30340;&#20027;&#35201;&#21151;&#33021;&#65292;&#20351;&#29992;*dg_ctl help create*&#21629;&#20196;&#21487;&#20197;&#25171;&#21360;&#35813;&#21629;&#20196;&#30340;&#35814;&#32454;&#24110;&#21161;&#65292;&#22914;&#19979;&#65306;</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dg_ctl <span class="nb">help</span> create

Use create <span class="nb">command</span> to create some <span class="nb">source</span> files of drogon webapp

Usage:drogon_ctl create &lt;view<span class="p">|</span>controller<span class="p">|</span>filter<span class="p">|</span>project<span class="p">|</span>model&gt; <span class="o">[</span>-options<span class="o">]</span> &lt;object name&gt;

drogon_ctl create view &lt;csp file name&gt; //create HttpView <span class="nb">source</span> files from csp file

drogon_ctl create controller <span class="o">[</span>-s<span class="o">]</span> &lt;<span class="o">[</span>namespace::<span class="o">]</span>class_name&gt; //create HttpSimpleController <span class="nb">source</span> files

drogon_ctl create controller -h &lt;<span class="o">[</span>namespace::<span class="o">]</span>class_name&gt; //create HttpController <span class="nb">source</span> files

drogon_ctl create controller -w &lt;<span class="o">[</span>namespace::<span class="o">]</span>class_name&gt; //create WebSocketController <span class="nb">source</span> files

drogon_ctl create filter &lt;<span class="o">[</span>namespace::<span class="o">]</span>class_name&gt; //create a filter named class_name

drogon_ctl create project &lt;project_name&gt; //create a project named project_name

drogon_ctl create model &lt;model_path&gt; //create model classes in model_path
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h2>&#35270;&#22270;&#21019;&#24314;</h2>
<p><a href="#id6"><span class="problematic" id="id7">*</span></a>dg_ctl create controller*&#21629;&#20196;&#29992;&#20110;&#24110;&#21161;&#29992;&#25143;&#21019;&#24314;&#25511;&#21046;&#22120;&#30340;&#28304;&#25991;&#20214;&#65292;drogon&#30446;&#21069;&#25903;&#25345;&#30340;&#19977;&#31181;&#25511;&#21046;&#22120;&#37117;&#21487;&#20197;&#30001;&#35813;&#21629;&#20196;&#21019;&#24314;&#65292;&#21482;&#26159;&#21442;&#25968;&#31245;&#26377;&#24046;&#21035;&#12290;</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dg_ctl create view UsersList.csp
</pre></div>
</div>
</div>
<div class="section" id="id8">
<h2>&#25511;&#21046;&#22120;&#21019;&#24314;</h2>
<p><a href="#id9"><span class="problematic" id="id10">*</span></a>dg_ctl create controller*&#21629;&#20196;&#29992;&#20110;&#24110;&#21161;&#29992;&#25143;&#21019;&#24314;&#25511;&#21046;&#22120;&#30340;&#28304;&#25991;&#20214;&#65292;drogon&#30446;&#21069;&#25903;&#25345;&#30340;&#19977;&#31181;&#25511;&#21046;&#22120;&#37117;&#21487;&#20197;&#30001;&#35813;&#21629;&#20196;&#21019;&#24314;&#65292;&#21482;&#26159;&#21442;&#25968;&#31245;&#26377;&#24046;&#21035;&#12290;</p>
<blockquote>
<div><ul>
<li><p class="first">&#21019;&#24314;HttpSimpleController&#30340;&#21629;&#20196;&#22914;&#19979;&#65306;</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dg_ctl create controller SimpleControllerTest
dg_ctl create controller webapp::v1::SimpleControllerTest
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>&#26368;&#21518;&#19968;&#20010;&#21442;&#25968;&#26159;&#25511;&#21046;&#22120;&#30340;&#31867;&#21517;&#65292;&#21487;&#20197;&#22312;&#21069;&#38754;&#38468;&#21152;&#21629;&#21517;&#31354;&#38388;&#12290;</p>
<blockquote>
<div><ul>
<li><p class="first">&#21019;&#24314;HttpController&#30340;&#21629;&#20196;&#22914;&#19979;&#65306;</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dg_ctl create controller -h ControllerTest
dg_ctl create controller -h api::v1::ControllerTest
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">&#21019;&#24314;WebSocketController&#30340;&#21629;&#20196;&#22914;&#19979;&#65306;</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dg_ctl create controller -w WsControllerTest
dg_ctl create controller -w api::v1::WsControllerTest
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>&#21442;&#32771;wiki&#30340;&#25511;&#21046;&#22120;&#21508;&#20010;&#31456;&#33410;&#12290;</p>
</div>
<div class="section" id="id11">
<h2>&#36807;&#28388;&#22120;&#21019;&#24314;</h2>
<p><a href="#id12"><span class="problematic" id="id13">*</span></a>dg_ctl create filter*&#21629;&#20196;&#29992;&#20110;&#24110;&#21161;&#29992;&#25143;&#21019;&#24314;&#36807;&#28388;&#22120;&#30340;&#28304;&#25991;&#20214;&#65292;&#21442;&#35265;&#36807;&#28388;&#22120;&#19968;&#33410;&#12290;</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dg_ctl create filter LoginFilter
dg_ctl create filter webapp::v1::LoginFilter
</pre></div>
</div>
</div>
<div class="section" id="id14">
<h2>&#21019;&#24314;&#24037;&#31243;</h2>
<p>&#29992;&#25143;&#21019;&#24314;&#19968;&#20010;&#26032;&#30340;Drogon&#24212;&#29992;&#24037;&#31243;&#30340;&#26041;&#27861;&#26159;&#36890;&#36807;drogon_ctl&#21629;&#20196;&#23454;&#29616;&#65292;&#22914;&#19979;&#65306;</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dg_ctl create project ProjectName
</pre></div>
</div>
<p>&#35813;&#21629;&#20196;&#25191;&#34892;&#23436;&#21518;&#65292;&#22312;&#24403;&#21069;&#30446;&#24405;&#20250;&#21019;&#24314;&#23436;&#25972;&#30340;&#24037;&#31243;&#30446;&#24405;&#65292;&#30446;&#24405;&#21517;&#26159;ProjectName,&#29992;&#25143;&#21487;&#20197;&#30452;&#25509;&#36827;build&#30446;&#24405;&#32534;&#35793;&#36825;&#20010;&#24037;&#31243;&#65292;&#24403;&#28982;&#20182;&#27809;&#26377;&#20219;&#20309;&#19994;&#21153;&#36923;&#36753;&#12290;</p>
<p>&#24037;&#31243;&#30340;&#30446;&#24405;&#32467;&#26500;&#22914;&#19979;&#65306;</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&#9500;&#9472;&#9472; build                         &#26500;&#24314;&#25991;&#20214;&#22841;
&#9500;&#9472;&#9472; CMakeLists.txt                &#24037;&#31243;&#30340;cmake&#37197;&#32622;&#25991;&#20214;
&#9500;&#9472;&#9472; cmake_modules                 &#31532;&#19977;&#26041;&#24211;&#26597;&#25214;&#30340;cmake&#33050;&#26412;
&#9474;   &#9500;&#9472;&#9472; FindJsoncpp.cmake
&#9474;   &#9500;&#9472;&#9472; FindMySQL.cmake
&#9474;   &#9500;&#9472;&#9472; FindSQLite3.cmake
&#9474;   &#9492;&#9472;&#9472; FindUUID.cmake
&#9500;&#9472;&#9472; config.json                   drogon&#24212;&#29992;&#30340;&#37197;&#32622;&#25991;&#20214;&#65292;&#35831;&#21442;&#32771;&#37197;&#32622;&#25991;&#20214;&#20171;&#32461;&#31456;&#33410;
&#9500;&#9472;&#9472; controllers                   &#23384;&#25918;&#25511;&#21046;&#22120;&#28304;&#25991;&#20214;&#30340;&#30446;&#24405;
&#9500;&#9472;&#9472; filters                       &#23384;&#25918;&#36807;&#28388;&#22120;&#25991;&#20214;&#30340;&#30446;&#24405;
&#9500;&#9472;&#9472; main.cc                       &#20027;&#31243;&#24207;
&#9500;&#9472;&#9472; models                        &#25968;&#25454;&#24211;&#27169;&#22411;&#25991;&#20214;&#30340;&#30446;&#24405;&#65292;&#27169;&#22411;&#28304;&#25991;&#20214;&#21019;&#24314;&#35265;11.2.5
&#9474;   &#9492;&#9472;&#9472; model.json
&#9492;&#9472;&#9472; views                         &#23384;&#25918;&#35270;&#22270;csp&#25991;&#20214;&#30340;&#30446;&#24405;&#65292;&#28304;&#25991;&#20214;&#26080;&#38656;&#29992;&#25143;&#25163;&#21160;&#21019;&#24314;&#65292;&#24037;&#31243;&#32534;&#35793;&#26102;&#20250;&#33258;&#21160;&#39044;&#22788;&#29702;csp&#25991;&#20214;&#24471;&#21040;&#35270;&#22270;&#30340;&#28304;&#25991;&#20214;
</pre></div>
</div>
</div>
<div class="section" id="id15">
<h2>&#21019;&#24314;&#27169;&#22411;</h2>
<p>&#20351;&#29992;*dg_ctl create model*&#21629;&#20196;&#21019;&#24314;&#25968;&#25454;&#24211;&#27169;&#22411;&#28304;&#25991;&#20214;&#65292;&#26368;&#21518;&#19968;&#20010;&#21442;&#25968;&#26159;&#27169;&#22411;&#23384;&#25918;&#30340;&#30446;&#24405;&#65292;&#35813;&#30446;&#24405;&#37324;&#24517;&#39035;&#21253;&#21547;&#19968;&#20010;&#21517;&#20026;model.json&#30340;&#27169;&#22411;&#37197;&#32622;&#25991;&#20214;&#65292;&#29992;&#20110;&#21578;&#35785;dg_ctl&#22914;&#20309;&#36830;&#25509;&#25968;&#25454;&#24211;&#20197;&#21450;&#26144;&#23556;&#21738;&#20123;&#34920;&#12290;</p>
<p>&#27604;&#22914;&#65292;&#22914;&#26524;&#35201;&#22312;&#19978;&#38754;&#25552;&#21040;&#30340;&#24037;&#31243;&#30446;&#24405;&#37324;&#21019;&#24314;&#27169;&#22411;&#65292;&#35831;&#22312;&#24037;&#31243;&#30446;&#24405;&#19979;&#25191;&#34892;&#22914;&#19979;&#21629;&#20196;&#65306;</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dg_ctl create model models
</pre></div>
</div>
<p>&#35813;&#21629;&#20196;&#20250;&#25552;&#31034;&#29992;&#25143;&#30446;&#24405;&#19979;&#24050;&#26377;&#30340;&#25991;&#20214;&#23558;&#34987;&#30452;&#25509;&#35206;&#30422;&#65292;&#29992;&#25143;&#36755;&#20837;y&#30830;&#35748;&#21518;&#23601;&#20250;&#29983;&#25104;&#25152;&#26377;&#27169;&#22411;&#25991;&#20214;&#12290;&#20854;&#20182;&#25991;&#20214;&#35201;&#24341;&#29992;&#27169;&#22411;&#31867;&#38656;&#35201;include&#27169;&#22411;&#30340;&#22836;&#25991;&#20214;&#65292;&#27604;&#22914;&#65306;</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&quot;models/User.h&quot;</span><span class="cp"></span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">&#27880;&#24847;&#35201;&#21253;&#21547;models&#30446;&#24405;&#21517;&#65292;&#36825;&#26159;&#20026;&#20102;&#21306;&#20998;&#21516;&#19968;&#20010;&#24037;&#31243;&#20013;&#22810;&#20010;&#25968;&#25454;&#28304;&#30340;&#24773;&#20917;&#12290;&#21442;&#35265;ORM&#12290;</p>
</div>
</div>
<div class="section" id="id16">
<h2>&#21387;&#21147;&#27979;&#35797;</h2>
<p>&#29992;&#25143;&#21487;&#20197;&#20351;&#29992;dg_ctl press&#21629;&#20196;&#36827;&#34892;&#21387;&#21147;&#27979;&#35797;&#65292;&#35813;&#21629;&#20196;&#26377;&#20960;&#20010;&#36873;&#39033;</p>
<blockquote>
<div><ul class="simple">
<li><em>-n num</em> &#35774;&#32622;&#35831;&#27714;&#30340;&#24635;&#25968;(&#40664;&#35748;&#26159;1)</li>
<li><em>-t num</em> &#35774;&#32622;&#32447;&#31243;&#24635;&#25968;(&#40664;&#35748;&#26159;1), &#35774;&#32622;&#25104;CPU&#25968;&#30446;&#21487;&#20197;&#36798;&#21040;&#26368;&#22823;&#24615;&#33021;</li>
<li><em>-c num</em>  &#35774;&#32622;&#24182;&#21457;&#36830;&#25509;&#25968;(&#40664;&#35748;&#26159;1)</li>
<li><em>-q</em> &#34920;&#31034;&#27809;&#26377;&#20013;&#38388;&#36807;&#31243;&#30340;&#20449;&#24687;&#36755;&#20986;(&#40664;&#35748;&#36755;&#20986;&#20449;&#24687;)</li>
</ul>
</div></blockquote>
<p>&#20363;&#23376;:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dg_ctl press -n1000000 -t4 -c1000 -q http://localhost:8080/
dg_ctl press -n <span class="m">1000000</span> -t <span class="m">4</span> -c <span class="m">1000</span> https://www.domain.com/path/to/be/tested
</pre></div>
</div>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="AOP-Aspect-Oriented-Programming-zh.html" title="AOP&#38754;&#21521;&#20999;&#38754;&#32534;&#31243;"
             >next</a> |</li>
        <li class="right" >
          <a href="Configuration-File-zh.html" title="&#37197;&#32622;&#25991;&#20214;"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">drogon v1.0.0-beta21 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index-zh.html" >&#20013;&#25991;&#25991;&#26723;</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, an-tao.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.9.
    </div>
  </body>
</html>